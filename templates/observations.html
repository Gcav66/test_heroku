<head>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
    <script type="text/javascript" src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js?2"></script>
</head>

{% extends "bootstrap/base.html" %}
{% block title %}This is an example page{% endblock %}


{% block navbar %}
<div class="navbar navbar-fixed-top">
  <!-- ... -->
</div>
{% endblock %}

{% block content %}
<h1>Get Fields or Create One</h1>
<form method="POST">
  <div class="form-group">
    <label for="exampleInputEmail1">Key</label>
    <input type="text" class="form-control" name="bkey" id="key" placeholder="Your AWhere Key">
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Secret</label>
    <!-- <input type="password" class="form-control" name="bsecret" id="secret" placeholder="Your AWhere Secret"> -->
    <input type="text" class="form-control" name="bsecret" id="secret" placeholder="Your AWhere Secret">
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Lat</label>
    <input type="lat" class="form-control" name="blat" id="latitude" placeholder="Latitude">
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Long</label>
    <input type="long" class="form-control" name="blong" id="longitude" placeholder="Longitude">
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Field ID</label>
    <input type="text" class="form-control" name="field_id" id="latitude" placeholder="Field ID">
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Farm ID</label>
    <input type="text" class="form-control" name="farm_id" id="longitude" placeholder="Farm ID">
  </div>
  <button type="submit" name="BFields" value="BFields" class="btn btn-default">Get Fields</button>
  <button type="submit" name="Create_Fields" value="Create_Fields" class="btn btn-default">Create Field</button>
  <button type="submit" name="Observations" value="Observations" class="btn btn-default">Get Observations</button>
  <button type="submit" name="Download" value="Download" class="btn btn-default">Download</button>  
</form>


<h1>Fields</h1>
<ul>
    {% for field in fields %}
        <li>{{field}}</li>
        {% endfor %}
</ul>

<h1>Observations</h1>
<h2>{{flat | safe}}</h2>

<div id="map" style="width:100%; height:300px;"></div>

<script type="text/javascript">
    var map = L.map('map').setView([{{ blat }}, {{ blong }}], 9);
    var mapquestLayer = new L.TileLayer('http://{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png', {
        maxZoom: 18,
        attribution: 'Data, imagery and map information provided by <a href="http://open.mapquest.co.uk" target="_blank">MapQuest</a>,<a href="http://www.openstreetmap.org/" target="_blank">OpenStreetMap</a> and contributors.',
        subdomains: ['otile1','otile2','otile3','otile4']
        });
    map.addLayer(mapquestLayer);
</script>
{% endblock %}


